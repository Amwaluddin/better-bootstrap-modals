<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Better Bootstrap Modals</title>
	<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
	<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/codemirror/5.20.2/codemirror.min.css">
	<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/codemirror/5.20.2/theme/material.min.css">
	<link rel="stylesheet" href="css/style.css">
	<link rel="stylesheet" href="css/bbm-0.4.0.min.css">
</head>
<body>
	<div class="modal" id="modal1" role="dialog">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button class="close" data-dismiss="modal">&times;</button>
					<h4 class="modal-title">Nice!</h4>
				</div>
				<div class="modal-body">
					<p>So far nothing is too different from vanilla Bootstrap (except the slightly different background color of the backdrop, which always stays the same no matter the amount of open modals).</p>
					<p>Now, try clicking the button below for some really cool stuff!</p>
					<button type="button" class="btn btn-default" data-toggle="modal" data-target="#modal2">Open another modal</button>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
				</div>
			</div>
		</div>
	</div>
	<div class="modal fade" id="modal2" role="dialog">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button class="close" data-dismiss="modal">&times;</button>
					<h4 class="modal-title">Awesome!</h4>
				</div>
				<div class="modal-body">
					<p>You made it! Wasn't that just really cool? (Did you notice that it neatly supports <code>.fade</code> as well?)</p>
					<p>Better Bootstrap Modals also supports modals of different sizes, since it is deeply integrated with the core of Bootstrap.</p>
					<p>It also supports Popovers, like this one: <a href="#" data-toggle="popover" title="Hello :)" data-placement="top" data-content="Please let me go back to hiding with my friends by clicking me again >~<">click me</a>.</p>
					<button type="button" class="btn btn-default" data-toggle="modal" data-target="#modal3">Open a large modal</button>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
				</div>
			</div>
		</div>
	</div>
	<div class="modal" id="modal3" role="dialog">
		<div class="modal-dialog modal-lg">
			<div class="modal-content">
				<div class="modal-header">
					<button class="close" data-dismiss="modal">&times;</button>
					<h4 class="modal-title">Three levels</h4>
				</div>
				<div class="modal-body">
					<p>While displaying modals of different sizes simultaneously isn't that aesthetically pleasing, at least you get the point.</p>
					<p>(Here's a <code>.modal-sm</code> if you really want to see that too: <a href="#" data-toggle="modal" data-target="#modal4">open small modal</a>)</p>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
				</div>
			</div>
		</div>
	</div>
	<div class="modal fade" id="modal4" role="dialog">
		<div class="modal-dialog modal-sm">
			<div class="modal-content">
				<div class="modal-header">
					<button class="close" data-dismiss="modal">&times;</button>
					<h4 class="modal-title">Fourth dimension fadiness</h4>
				</div>
				<div class="modal-body">
					<p>Hello there! :)</p>
					<p>Now close me and all my friends and go back to reading the documentation.</p>
					<p>You can close all my friends by clicking outside of us. :)</p>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">Close me!</button>
				</div>
			</div>
		</div>
	</div>
	<div class="hero">
		<div class="container">
			<div class="row">
				<div class="col-md-12">
					<div class="text-center">
						<h1>Better Bootstrap Modals</h1>
						<p class="lead">It's 2016, we need better modals.</p>
						<a href="https://github.com/danielpox/better-bootstrap-modals" target="_blank" class="btn btn-secondary btn-lg">View on GitHub</a><!--
						--><a href="https://github.com/danielpox/better-bootstrap-modals/raw/master/bbm-0.3.3.min.tar.gz" class="btn btn-secondary btn-lg">Download v0.3.3.min.tar.gz</a><!--
						--><a href="https://github.com/danielpox/better-bootstrap-modals/raw/master/bbm-0.3.3.tar.gz" class="btn btn-secondary btn-lg">Download v0.3.3.tar.gz</a>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="paper">
		<div class="container">
			<div class="row">
				<div class="col-md-12">
					<h2>Problem solved</h2>
					<p class="lead">Simple. Tiny.</p>
					<p>This simple and tiny (666 bytes gzipped) Javascript and CSS package allows an infinite amount of open modals, and a simple and natural way to navigate between them.</p>
					<p>Utilizing Bootstrap's own modal events, this works neatly with the core of vanilla Bootstrap.</p>
					<p>Note: on mobile devices, the <code>body</code> may have a tendency to scroll when at the top or bottom of the <code>.modal-container</code>. This is a <a href="http://getbootstrap.com/getting-started/#overflow-and-scrolling">well-known issue</a>.</p>
				</div>
			</div>
		</div>
	</div>
	<div class="paper dark">
		<div class="container">
			<div class="row">
				<div class="col-md-12">
					<h2>Example</h2>
					<p>Try clicking <a href="#" data-toggle="modal" data-target="#modal1">this text</a>, or the button below, to open an example modal.</p>
					<a href="#" class="btn btn-default" data-toggle="modal" data-target="#modal1">Button link</a>
					<button type="button" class="btn btn-default" data-toggle="modal" data-target="#modal1">Button</button>
				</div>
			</div>
		</div>
	</div>
	<div class="paper">
		<div class="container">
			<div class="row">
				<div class="col-md-12">
					<h2>Requirements</h2>
					<p>For Better Bootstrap Modals to work, all you need to do is include the CSS and Javascript files (or include the tiny source code found below), and disable backdrops as well as <code>tabindex="-1"</code> on all modals.</p>
					<p>It of course also requires Bootstrap and jQuery.</p>
					<!-- Limit Modals -->
					<h3>Limit to only show most recent modal</h3>
					<p>As of version 0.4.0 you are able to set <code>data-show="first"</code> of the <code>script</code> tag used to load Better Bootstrap Modals. This data-attrribute will set Better Bootstrap Modals to only show the most recent modal opened. Once you close that modal you will be presented with the one before it.</p>
					<textarea class="code-block" data-type="htmlmixed"><script data-show="first" src="js/bbm-0.4.0.js"></script></textarea>
					<!-- Backdrop -->
					<h3>Force Backdrop to be Excluded</h3>
					<p> As of version 0.4.0 you are able to set <code>data-force-backdrop="false"</code> of the <code>script</code> tag used to load Better Bootstrap Modals. This code will force the backdrop to be set to false. Of couse you are still able to disable the backdrop using the method below too.</p>
					<textarea class="code-block" data-type="htmlmixed"><script data-force-backdrop="false" src="js/bbm-0.4.0.js"></script></textarea>
					<h3>Disable backdrop and don't include <code>tabindex="-1"</code></h3>
					<textarea class="code-block" data-type="htmlmixed"><!-- Basic Bootstrap modal without backdrop -->
<div class="modal" id="modal1" data-backdrop="false" role="dialog">
    ...
</div></textarea>
				</div>
			</div>
		</div>
	</div>
	<div class="paper">
		<div class="container">
			<div class="row">
				<div class="col-md-12">
					<h2>Source code (v0.4.0)</h2>
					<p>To demonstrate how tiny Better Bootstrap Modals really is, here's all the source code:</p>
					<!-- CSS -->
					<h3>CSS</h3>
					<textarea class="code-block" data-type="css">.modal-container {
    background: rgba(0, 0, 0, 0.5);
    bottom: 0;
    height: 0px;
    left: 0;
    -webkit-overflow-scrolling: touch;
    overflow-y: scroll;
    position: fixed;
    right: 0;
    top: 0;
    z-index: 1041;
}
body.modal-open .modal-container {
    height: 100%;
}
body.modal-open .modal-container > .modal {
    position: relative;
}
body.modal-open .modal-container > .modal.in {
    display: block;
}
body.modal-open .modal-container.show-first-only > .modal.in ~ .modal.in {
    display: none;
}</textarea>
					<!-- Javascript -->
					<h3>Javascript</h3>
					<textarea class="code-block" data-type="javascript">$(document).ready(function() {
    var $modalContainer = $('<div class="modal-container"></div>');
	var dataVariables = (function() { var scripts = document.getElementsByTagName("script"); return scripts[scripts.length - 1].dataset; })();

    // Check if `.modal-container` exists.
    // If so, set $modalContainer to first instance
    // Otherwise add $modalContainer to `body`
    if ($('body .modal-container').length >= 1) {
    	$modalContainer = $('.modal-container').eq(0)
    }else{
		$('body').append($modalContainer);
	}

	// If show is set to first, add class to `.modal-container` to limit modals to only show one at a time
	if (dataVariables.show == 'first') {
		$modalContainer.addClass('show-first-only');
	}

	// Add Opening modals to `.modal-container`
    $('.modal').on('show.bs.modal', function() {
    	// Check to see if forceBackdrop is set, If not use default backdrop setting
    	var forceBackdrop = (typeof dataVariables.forceBackdrop != 'undefined' ? (dataVariables.forceBackdrop === 'true') : $(this).data('bs.modal').options.backdrop);
		$(this).data('bs.modal').options.backdrop = forceBackdrop;
		// Prepent modal to container
		$modalContainer.prepend($(this));
    });
    
	// Make sure to remove forced display in favor of css display
    $('.modal').on('shown.bs.modal', function() {	    	
		$(this).css('display', '');
    });

    $('.modal').on('hidden.bs.modal', function() {
		if ($('.modal.in').length >= 1) {
			// Make sure not to remove modal-open if modals are still open.
			$('body').addClass('modal-open');
		}else{
			// Remove padding sometimes left over from modals.
			$('body').css('padding-right', '');
		}
	});
});</textarea>
				</div>
			</div>
		</div>
	</div>
	<footer class="paper dark">
		<div class="container">
			<div class="row">
				<div class="col-md-12">
					<p class="text-center">Made with care by Daniel Pox &amp; <a href="http://www.github.com/mouse0270/">Mouse0270</a> &copy; 2016. <a href="https://github.com/danielpox/better-bootstrap-modals/blob/master/LICENSE" target="_blank">MIT License</a>.</p>
				</div>
			</div>
		</div>
	</footer>
	<script src='//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
	<script src="//cdnjs.cloudflare.com/ajax/libs/codemirror/5.20.2/codemirror.min.js"></script>
	<script src="//cdnjs.cloudflare.com/ajax/libs/codemirror/5.20.2/mode/css/css.min.js"></script>
	<script src="//cdnjs.cloudflare.com/ajax/libs/codemirror/5.20.2/mode/javascript/javascript.min.js"></script>
	<script src="//cdnjs.cloudflare.com/ajax/libs/codemirror/5.20.2/mode/xml/xml.min.js"></script>
	<script src="//cdnjs.cloudflare.com/ajax/libs/codemirror/5.20.2/mode/htmlmixed/htmlmixed.min.js"></script>
	<script src='//maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js'></script>
	<script data-force-backdrop="false" src="js/bbm-0.4.0.min.js"></script>
	<script>
		$(document).ready(function() {
			$('textarea.code-block').each(function() {
				CodeMirror.fromTextArea($(this)[0], {
					mode: $(this).data('type'),
					theme: "material",
					lineNumbers: true,
					readOnly: true
				});
			})
		});
	</script>
</body>
</html>
